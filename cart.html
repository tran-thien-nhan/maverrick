<!-- ng-controller="CartController" -->
<div class="container-fluid pt-1" ng-controller="CartController">
  <div class="pb-1 ml-5">
    <button onclick="history.back()" class="btn chung">
      Back
    </button>
  </div>
  <div class="row px-xl-5">
    <div class="col-lg-8 table-responsive mb-5">
      <table class="table table-bordered mb-0">
        <thead class="bg-light text-dark">
          <tr class="text-center">
            <th>Products</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Total</th>
            <th>Remove</th>
          </tr>
        </thead>
        <tbody class="align-middle">
          <tr ng-repeat="item in cart">
            <td class="align-middle text-left">
              <img src="{{item.image}}" alt="" style="width:4rem; height:4rem;">
              {{item.name}} (Size: {{size}})
            </td>
            <td class="align-middle text-center">
              <quantity-buttons quantity="item.quantity"></quantity-buttons>
            </td>
            <td class="align-middle text-center">${{item.price}}</td>
            <td class="align-middle text-center">${{item.quantity * item.price}}</td>
            <td class="align-middle text-center">
              <button class="btn btn-danger btn-sm" ng-click="removeItem(item)"><i class="fas fa-trash-alt"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
      <a class="btn btn-sm float-right chung mt-2" ng-click="removeItemAll(item)">remove all</a>
    </div>
    <div class="col-lg-4">
      <form class="mb-5" action="">
        <div class="input-group">
          <input type="text" class="form-control p-4" placeholder="Coupon Code">
          <div class="input-group-append">
            <a class="btn chung" style="line-height: 2rem;">Apply
              Coupon</a>
          </div>
        </div>
      </form>
      <div class="card mb-2">
        <div class="card-header bg-light border-0">
          <h4 class="font-weight-semi-bold m-0">Cart Summary</h4>
        </div>
        <div class="card-body">
          <div class="d-flex justify-content-between mb-3 pt-1">
            <h6 class="font-weight-medium">Subtotal</h6>
            <h6 class="font-weight-medium">${{getTotal()}}</h6>
          </div>
          <div class="d-flex justify-content-between mb-3 pt-1">
            <h6 class="font-weight-medium">Discount 20%</h6>
            <h6 class="font-weight-medium">${{getTotal()*(1-20/100) | number:2}}</h6>
          </div>
          <div class="d-flex justify-content-between mb-3 pt-1">
            <h6 class="font-weight-medium">Shipping</h6>
            <h6 class="font-weight-medium">${{getTotal()*(1-20/100)*(1+2/100) | number:2}}</h6>
          </div>
        </div>
        <div class="card-footer border-secondary bg-transparent">
          <div class="d-flex justify-content-between mt-2">
            <h5 class="font-weight-bold">Total (+ vat 5%)</h5>
            <h5 class="font-weight-bold">${{getTotal()*(1-20/100)*(1+2/100)*(1+5/100) | number:2}}</h5>
          </div>
          <a class="btn btn-block my-3 py-3 chung" ng-click="buy()" href="#!/checkout">Proceed To
            Checkout</a>
        </div>
      </div>
    </div>
  </div>
</div>
